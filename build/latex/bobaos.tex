%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
 \ifdefined\DeclareUnicodeCharacterAsOptional
  \DeclareUnicodeCharacter{"00A0}{\nobreakspace}
  \DeclareUnicodeCharacter{"2500}{\sphinxunichar{2500}}
  \DeclareUnicodeCharacter{"2502}{\sphinxunichar{2502}}
  \DeclareUnicodeCharacter{"2514}{\sphinxunichar{2514}}
  \DeclareUnicodeCharacter{"251C}{\sphinxunichar{251C}}
  \DeclareUnicodeCharacter{"2572}{\textbackslash}
 \else
  \DeclareUnicodeCharacter{00A0}{\nobreakspace}
  \DeclareUnicodeCharacter{2500}{\sphinxunichar{2500}}
  \DeclareUnicodeCharacter{2502}{\sphinxunichar{2502}}
  \DeclareUnicodeCharacter{2514}{\sphinxunichar{2514}}
  \DeclareUnicodeCharacter{251C}{\sphinxunichar{251C}}
  \DeclareUnicodeCharacter{2572}{\textbackslash}
 \fi
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}
\usepackage{times}
\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\usepackage{geometry}

% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}
\addto\captionsenglish{\renewcommand{\contentsname}{Contents:}}

\addto\captionsenglish{\renewcommand{\figurename}{Fig.}}
\addto\captionsenglish{\renewcommand{\tablename}{Table}}
\addto\captionsenglish{\renewcommand{\literalblockname}{Listing}}

\addto\captionsenglish{\renewcommand{\literalblockcontinuedname}{continued from previous page}}
\addto\captionsenglish{\renewcommand{\literalblockcontinuesname}{continues on next page}}

\addto\extrasenglish{\def\pageautorefname{page}}

\setcounter{tocdepth}{1}



\title{bobaos Documentation}
\date{Aug 28, 2018}
\release{}
\author{Vladimir Shabunin}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{}
\makeindex

\begin{document}

\maketitle
\sphinxtableofcontents
\phantomsection\label{\detokenize{index::doc}}



\chapter{Introduction}
\label{\detokenize{intro:introduction}}\label{\detokenize{intro:introduction}}\label{\detokenize{intro::doc}}

\section{What is bobaos?}
\label{\detokenize{intro:what-is-bobaos}}\label{\detokenize{intro:what-is-bobaos}}
If you are familiar \sphinxhref{https://knx.org}{KNX/EIB} then you may read following and look deeper in this documentation. If not, this may not be suitable for you. If you still want to learn, you are welcome =)

We have been working with KNX for 5 long years and always wondered if there is communication solutions to control knx values outside of bus.

We’ve been working with some of them but sometimes they are too expensive, sometimes they do not suit your needs.

So, when we got \sphinxhref{https://weinzierl.de/index.php/en/all-knx/knx-module-en/knx-baos-module-838-en}{Weinzierl KNX BAOS 838 module kBerry} I put a lot of efforts to discover and implement \sphinxhref{https://weinzierl.de/images/download/development/830/KnxBAOS\_Protocol\_v2.pdf}{ObjectServer Binary Protocol} and in the end was able to successfully communicate with KNX bus over UART.


\section{Do you need it?}
\label{\detokenize{intro:do-you-need-it}}\label{\detokenize{intro:do-you-need-it}}
If you are looking for great solution that will allow you to control your KNX datapoints over UART then you do.

If you are looking for great solution to implement own devices with KNX bus connection then you do.

If you are looking for KNXNet/IP router then you don’t need it at all. Check \sphinxhref{https://bitbucket.org/ekarak/knx.js}{knx.js} project. I use it in my projects too.


\section{Credits}
\label{\detokenize{intro:credits}}\label{\detokenize{intro:credits}}
First of all, we want to say big thanks to \sphinxhref{https://weinzierl.de}{Weinzierl team} for great hardware and ObjectServer protocol.

In second, big thanks to the whole opensource community.

And, finally, to all people who participated in IT history since ancient ages.


\section{Support me}
\label{\detokenize{intro:support-me}}\label{\detokenize{intro:support-me}}
You can send me a beer by PayPal

\sphinxhref{https://paypal.me/shabunin}{\sphinxincludegraphics{{/home/undefeated/build/docs/build/doctrees/images/8677b9030d43d26eb1eb62b6d0dac23d972e2efc/btn_donateCC_LG}.gif}}


\chapter{Get started {[}bobaos{]}}
\label{\detokenize{bobaos:get-started-bobaos}}\label{\detokenize{bobaos:get-started-bobaos}}\label{\detokenize{bobaos::doc}}
Hello, friend.

I would like to introduce you bobaos-project, JavaScript library implementing \sphinxhref{https://www.weinzierl.de/images/download/development/830/KnxBAOS\_Protocol\_v2.pdf}{KNX ObjectServer Protocol} for \sphinxhref{https://www.weinzierl.de/index.php/en/all-knx/knx-module-en/knx-baos-module-838-en}{KNX BAOS Module 838 kBerry}.

The main purpose of project is to bring modern JavaScript with it’s infrastructure into KNX and world of BAOS.

If you want to just set, get, read datapoints then you probably should follow Installation guide from this page until step 5 and then go to bdsd.sock/bdsd-cli/bdsd.client instructions.


\section{Installation}
\label{\detokenize{bobaos:installation}}\label{\detokenize{bobaos:installation}}
\sphinxstylestrong{1{]}} Prepare your Raspberry Pi: install raspbian, enable ssh.

\sphinxstylestrong{2{]}} Install \sphinxhref{https://www.weinzierl.de/index.php/en/all-knx/knx-module-en/knx-baos-module-838-en}{KNX BAOS Module 838 kBerry} shield.

\sphinxstylestrong{3{]}} Set up serial port

For Raspberry Pi 3:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
sudo sh \PYGZhy{}c \PYG{l+s+s2}{\PYGZdq{}echo dtoverlay=pi3\PYGZhy{}miniuart\PYGZhy{}bt \PYGZgt{}\PYGZgt{}/boot/config.txt\PYGZdq{}}
\end{sphinxVerbatim}

Open \sphinxcode{\sphinxupquote{/boot/cmdline.txt}} and remove \sphinxcode{\sphinxupquote{console=ttyAMA0,115200}} from the file For Raspbian Jessie and newer the entry is \sphinxcode{\sphinxupquote{console=serial0,115200}}

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Check the group of the device}
ls \PYGZhy{}l /dev/ttyAMA0
crw\PYGZhy{}rw\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{} \PYG{l+m}{1} root dialout \PYG{l+m}{204}, \PYG{l+m}{64} Aug  \PYG{l+m}{4} \PYG{l+m}{11}:33 /dev/ttyAMA0
sudo usermod \PYGZhy{}a \PYGZhy{}G dialout pi
\end{sphinxVerbatim}

\sphinxstylestrong{4{]}} Install nodejs, git

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
curl \PYGZhy{}sL https://deb.nodesource.com/setup\PYGZus{}8.x \PYG{p}{\textbar{}} sudo \PYGZhy{}E bash \PYGZhy{}
sudo apt\PYGZhy{}get install \PYGZhy{}y nodejs git
\end{sphinxVerbatim}

\sphinxstylestrong{5{]}}  Now you may test your installation with \sphinxhref{./bdsd.sock.html}{bdsd-sock} and \sphinxhref{./bdsd-cli.html}{bdsd-cli}.


\section{Using with your application}
\label{\detokenize{bobaos:using-with-your-application}}\label{\detokenize{bobaos:using-with-your-application}}
Add this module to your nodejs application:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
npm install \PYGZhy{}\PYGZhy{}save bobaos
\end{sphinxVerbatim}

Define in js file:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kr}{const} \PYG{n+nx}{Baos} \PYG{o}{=} \PYG{n+nx}{require}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}bobaos\PYGZsq{}}\PYG{p}{)}\PYG{p}{;}
\PYG{k+kr}{const} \PYG{n+nx}{app} \PYG{o}{=} \PYG{k}{new} \PYG{n+nx}{Baos}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{n+nx}{serialPort}\PYG{o}{:} \PYG{p}{\PYGZob{}}\PYG{n+nx}{device}\PYG{o}{:} \PYG{l+s+s1}{\PYGZsq{}/dev/ttyAMA0\PYGZsq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n+nx}{debug}\PYG{o}{:} \PYG{k+kc}{false}\PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}

\PYG{c+c1}{// send requests after successful initial reset}
\PYG{n+nx}{app}\PYG{p}{.}\PYG{n+nx}{on}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}open\PYGZsq{}}\PYG{p}{,} \PYG{p}{(}\PYG{p}{)} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
  \PYG{c+c1}{// get server item}
  \PYG{n+nx}{app}
    \PYG{p}{.}\PYG{n+nx}{getServerItem}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{17}\PYG{p}{)}
    \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{data} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
      \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}got server item 1\PYGZhy{}17\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}\PYG{p}{)}
    \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{e} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
      \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}err\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{e}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}
  \PYG{n+nx}{app}
    \PYG{p}{.}\PYG{n+nx}{getServerItem}\PYG{p}{(}\PYG{l+m+mi}{17}\PYG{p}{,} \PYG{l+m+mi}{20}\PYG{p}{)}
    \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{data} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
      \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}got server item 17\PYGZhy{}20\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}\PYG{p}{)}
    \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{e} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
      \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}err\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{e}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}

  \PYG{c+c1}{// now get datapoint description}
  \PYG{n+nx}{app}
    \PYG{p}{.}\PYG{n+nx}{getDatapointDescription}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{30}\PYG{p}{)}
    \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{data} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
      \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}got datapoint description 1\PYGZhy{}30\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}\PYG{p}{)}
    \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{data} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
      \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}err while getting datapoint description 1\PYGZhy{}30\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}
  \PYG{c+c1}{// in my case it returns error cause no datapoints was configured}
  \PYG{n+nx}{app}
    \PYG{p}{.}\PYG{n+nx}{getDatapointDescription}\PYG{p}{(}\PYG{l+m+mi}{349}\PYG{p}{,} \PYG{l+m+mi}{10}\PYG{p}{)}
    \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{data} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
      \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}got datapoint description 349\PYGZhy{}359\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}\PYG{p}{)}
    \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{data} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
      \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}err while getting datapoint description 349\PYGZhy{}359\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data}\PYG{p}{)}\PYG{p}{;}
    \PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}

\PYG{c+c1}{// listen to reset event}
\PYG{n+nx}{app}\PYG{p}{.}\PYG{n+nx}{on}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}reset\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{\PYGZus{}} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
  \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}got reset indication\PYGZsq{}}\PYG{p}{)}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}

\PYG{c+c1}{// listen to indication events}
\PYG{n+nx}{app}\PYG{p}{.}\PYG{n+nx}{on}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}DatapointValue.Ind\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
  \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}got datapoint value indication: \PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data}\PYG{p}{)}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}

\PYG{n+nx}{app}\PYG{p}{.}\PYG{n+nx}{on}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}ServerItem.Ind\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
  \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}got server item indication: \PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data}\PYG{p}{)}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}
\end{sphinxVerbatim}

For more details look at example/ folder.

The values in request/response are buffers and you should use some library to decode/encode values. I suggest \sphinxhref{https://github.com/shabunin/knx-dpts-baos}{knx-dpts-baos}.


\section{API}
\label{\detokenize{bobaos:api}}\label{\detokenize{bobaos:api}}
The communication between Host(RPi) and ObjectServer(Baos module) in this module version implemented in request-response model.
Requests are sent by following methods and returns Promise instance, so you are able to use Promise API.

Currently, this module supports following methods:

\sphinxstylestrong{getServerItem(id, {[}number = 1{]})}

Get server information like hardware/firmware version, serial number, bus connected state, etc.

Request example:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{// set programming mode to true}
\PYG{n+nx}{app}
  \PYG{p}{.}\PYG{n+nx}{getServerItem}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{17}\PYG{p}{)}
  \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{data} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
    \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}get server item 1\PYGZhy{}17: success\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data}\PYG{p}{)}\PYG{p}{;}
  \PYG{p}{\PYGZcb{}}\PYG{p}{)}
  \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{err} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
    \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}get server item 1\PYGZhy{}17: error\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{err}\PYG{p}{)}\PYG{p}{;}
  \PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}
\end{sphinxVerbatim}

Response example:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{[} \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{6}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{00} \PYG{l+m+mi}{00} \PYG{n}{c5} \PYG{l+m+mi}{08} \PYG{l+m+mi}{00} \PYG{l+m+mi}{03}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{10}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{12}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{4}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{00} \PYG{n}{c5}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{5}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{00} \PYG{n}{c5}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{6}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{08} \PYG{l+m+mi}{05}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{7}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{10}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{8}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{6}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{00} \PYG{n}{c5} \PYG{l+m+mi}{01} \PYG{l+m+mi}{01} \PYG{l+m+mi}{76} \PYG{n}{b7}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{9}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{4}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{04} \PYG{l+m+mi}{9}\PYG{n}{a} \PYG{n}{c1} \PYG{n}{ee}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{10}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{01}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{11}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{00} \PYG{n}{fa}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{12}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{00} \PYG{l+m+mi}{00}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{13}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{01}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{14}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{00} \PYG{n}{fa}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{15}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{00}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{16}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{20}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{17}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{01}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}} \PYG{p}{]}
\end{sphinxVerbatim}

\sphinxstylestrong{setServerItem(id, value)}

Set server item value. Value param should be instance of Buffer.

Example:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{// set programming mode to true}
\PYG{n+nx}{app}
  \PYG{p}{.}\PYG{n+nx}{setServerItem}\PYG{p}{(}\PYG{l+m+mi}{15}\PYG{p}{,} \PYG{n+nx}{Buffer}\PYG{p}{.}\PYG{n+nx}{alloc}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mh}{0x01}\PYG{p}{)}\PYG{p}{)}
  \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
    \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}set programming mode: success\PYGZsq{}}\PYG{p}{)}\PYG{p}{;}
  \PYG{p}{\PYGZcb{}}\PYG{p}{)}
  \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{err} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
    \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}set programming mode: error\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{err}\PYG{p}{)}\PYG{p}{;}
  \PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}
\end{sphinxVerbatim}

\sphinxstylestrong{getDatapointDescription(id, {[}number = 1{]})}

Get description for datapoints. Response includes value type(length), config flags, datapoint type.

Request example:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{// set programming mode to true}
\PYG{n+nx}{app}
  \PYG{p}{.}\PYG{n+nx}{getDatapointDescription}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{)}
  \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{data} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
    \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}get datapoint description 1 \PYGZhy{} 3: success\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data}\PYG{p}{)}\PYG{p}{;}
  \PYG{p}{\PYGZcb{}}\PYG{p}{)}
  \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{err} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
    \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}get datapoint description 1 \PYGZhy{} 3: error\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{err}\PYG{p}{)}\PYG{p}{;}
  \PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}
\end{sphinxVerbatim}

Response example:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{[} \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{flags}\PYG{p}{:} \PYG{p}{\PYGZob{}} \PYG{n}{priority}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{low}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{communication}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,} \PYG{n}{read}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,} \PYG{n}{write}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,} \PYG{n}{readOnInit}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,} \PYG{n}{transmit}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,} \PYG{n}{update}\PYG{p}{:} \PYG{n}{true} \PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{dpt}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{dpt9}\PYG{l+s+s1}{\PYGZsq{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
\PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{flags}\PYG{p}{:} \PYG{p}{\PYGZob{}} \PYG{n}{priority}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{low}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{communication}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,} \PYG{n}{read}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,} \PYG{n}{write}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,} \PYG{n}{readOnInit}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,} \PYG{n}{transmit}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,} \PYG{n}{update}\PYG{p}{:} \PYG{n}{true}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{dpt}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{dpt5}\PYG{l+s+s1}{\PYGZsq{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
\PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{flags}\PYG{p}{:} \PYG{p}{\PYGZob{}} \PYG{n}{priority}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{low}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{communication}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,} \PYG{n}{read}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,} \PYG{n}{write}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,} \PYG{n}{readOnInit}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,} \PYG{n}{transmit}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,} \PYG{n}{update}\PYG{p}{:} \PYG{n}{true}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{dpt}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{dpt5}\PYG{l+s+s1}{\PYGZsq{}} \PYG{p}{\PYGZcb{}} \PYG{p}{]}
\end{sphinxVerbatim}

\sphinxstylestrong{setDatapointValue(id, value)}

Set and send datapoint value to bus. Value should be Buffer encoded.

Example:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{// set programming mode to true}
\PYG{n+nx}{app}
  \PYG{p}{.}\PYG{n+nx}{setDatapointValue}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n+nx}{Buffer}\PYG{p}{.}\PYG{n+nx}{alloc}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mh}{0x01}\PYG{p}{)}\PYG{p}{)}
  \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
    \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}set datapoint 1 value: success\PYGZsq{}}\PYG{p}{)}\PYG{p}{;}
  \PYG{p}{\PYGZcb{}}\PYG{p}{)}
  \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{err} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
    \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}set datapoint 1 value: error\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{err}\PYG{p}{)}\PYG{p}{;}
  \PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}
\end{sphinxVerbatim}

\sphinxstylestrong{readDatapointFromBus(id, length)}

Send read request to KNX bus.

Example:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{// set programming mode to true}
\PYG{n+nx}{app}
  \PYG{p}{.}\PYG{n+nx}{readDatapointFromBus}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{)}
  \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{\PYGZus{}} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
    \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}read datapoint 1 from bus: success\PYGZsq{}}\PYG{p}{)}\PYG{p}{;}
  \PYG{p}{\PYGZcb{}}\PYG{p}{)}
  \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{err} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
    \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}read datapoint 1 from bus: error\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{err}\PYG{p}{)}\PYG{p}{;}
  \PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}
\end{sphinxVerbatim}

\sphinxstylestrong{getDatapointValue(id, {[}number = 1{]})}

Get datapoints value from baos.

Response example:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{[} \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{state}\PYG{p}{:} \PYG{p}{\PYGZob{}} \PYG{n}{transmissionStatus}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Idle/OK}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{readRequestFlag}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,} \PYG{n}{updateFlag}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,} \PYG{n}{validFlag}\PYG{p}{:} \PYG{n}{false} \PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{0}\PYG{n}{c} \PYG{n}{fb}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{state}\PYG{p}{:} \PYG{p}{\PYGZob{}} \PYG{n}{transmissionStatus}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Idle/OK}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{readRequestFlag}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,} \PYG{n}{updateFlag}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,} \PYG{n}{validFlag}\PYG{p}{:} \PYG{n}{false} \PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{n}{c0}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{3}\PYG{p}{,} \PYG{n}{state}\PYG{p}{:} \PYG{p}{\PYGZob{}} \PYG{n}{transmissionStatus}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Idle/OK}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{readRequestFlag}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,} \PYG{n}{updateFlag}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,} \PYG{n}{validFlag}\PYG{p}{:} \PYG{n}{false} \PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{10}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
 \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{4}\PYG{p}{,} \PYG{n}{state}\PYG{p}{:} \PYG{p}{\PYGZob{}} \PYG{n}{transmissionStatus}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Idle/OK}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{readRequestFlag}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,} \PYG{n}{updateFlag}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,} \PYG{n}{validFlag}\PYG{p}{:} \PYG{n}{false} \PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n}{value}\PYG{p}{:} \PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{00}\PYG{o}{\PYGZgt{}} \PYG{p}{\PYGZcb{}} \PYG{p}{]}
\end{sphinxVerbatim}

\sphinxstylestrong{getParameterByte(id, {[}number = 1{]})}

Get parameter bytes starting with id number.

Request example:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{// set programming mode to true}
\PYG{n+nx}{app}
  \PYG{p}{.}\PYG{n+nx}{getParameterByte}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{10}\PYG{p}{)}
  \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{data} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
    \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}get parameter byte 1 \PYGZhy{} 10: success\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data}\PYG{p}{)}\PYG{p}{;}
  \PYG{p}{\PYGZcb{}}\PYG{p}{)}
  \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{err} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
    \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}get parameter byte 1 \PYGZhy{} 10: error\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{err}\PYG{p}{)}\PYG{p}{;}
  \PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}
\end{sphinxVerbatim}

Response example:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{o}{\PYGZlt{}}\PYG{n}{Buffer} \PYG{l+m+mi}{01} \PYG{l+m+mi}{03} \PYG{l+m+mi}{05} \PYG{l+m+mi}{07} \PYG{l+m+mi}{09} \PYG{l+m+mi}{0}\PYG{n}{b} \PYG{l+m+mi}{0}\PYG{n}{a} \PYG{l+m+mi}{00} \PYG{l+m+mi}{00} \PYG{l+m+mi}{00}\PYG{o}{\PYGZgt{}}
\end{sphinxVerbatim}


\section{Useful cases}
\label{\detokenize{bobaos:useful-cases}}\label{\detokenize{bobaos:useful-cases}}\begin{enumerate}
\item {} 
DIY home controller.
\begin{itemize}
\item {} 
write your own scripts in JS

\item {} 
use rich npm infrastructure to integrate with different services

\end{itemize}

\item {} 
As a gateway to other systems. For example, you may use it with \sphinxhref{https://github.com/nfarina/homebridge}{homebridge} to add HomeKit support to your KNX bus.

\end{enumerate}


\section{Demo}
\label{\detokenize{bobaos:demo}}\label{\detokenize{bobaos:demo}}
\sphinxhref{https://www.youtube.com/watch?v=vBXVysVJymc}{My presentation at TADHack 2017}

\sphinxhref{https://www.youtube.com/watch?v=6K-xG2r9YwI}{Apple HomeKit integration}


\section{Support me}
\label{\detokenize{bobaos:support-me}}\label{\detokenize{bobaos:support-me}}
You can send me a beer by PayPal

\sphinxhref{https://paypal.me/shabunin}{\sphinxincludegraphics{{/home/undefeated/build/docs/build/doctrees/images/8677b9030d43d26eb1eb62b6d0dac23d972e2efc/btn_donateCC_LG}.gif}}


\chapter{Launch daemon {[}bdsd.sock{]}}
\label{\detokenize{bdsd.sock:launch-daemon-bdsd-sock}}\label{\detokenize{bdsd.sock:launch-daemon-bdsd-sock}}\label{\detokenize{bdsd.sock::doc}}
This module intended to solve architecturing problem when developing js applcation for KNX.
Nodejs connects to BAOS 838 module via serial port, usually /dev/ttyAMA0 and it handles only one connection at a time.
But what if you want to connect to KNX bus multiple clients?
If you want to write some custom scripts and use this device as a MQTT gateway at a same time?

So, schematically it may look like this:

\sphinxincludegraphics{{scheme}.png}


\section{Installation}
\label{\detokenize{bdsd.sock:installation}}\label{\detokenize{bdsd.sock:installation}}
Assuming you have Raspberry Pi with installed Raspbian with configured access to BAOS module via /dev/ttyAMA0.

If not, follow instructions on \sphinxhref{https://github.com/shabunin/bobaos\#installation}{bobaos repository page}


\subsection{Installation via script}
\label{\detokenize{bdsd.sock:installation-via-script}}\label{\detokenize{bdsd.sock:installation-via-script}}
\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZdl{} curl \PYGZhy{}L https://raw.githubusercontent.com/bobaos/bdsd.sock/master/bdsd\PYGZus{}install.sh \textbar{} bash
\end{sphinxVerbatim}


\subsection{Manual installation}
\label{\detokenize{bdsd.sock:manual-installation}}\label{\detokenize{bdsd.sock:manual-installation}}
\sphinxstylestrong{1. Install npm package}

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZdl{} sudo npm install \PYGZhy{}g bdsd.sock \PYGZhy{}\PYGZhy{}unsafe\PYGZhy{}perm
\end{sphinxVerbatim}

Check if it executes correctly:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZdl{} bdsd.sock
IPC: Checking for leftover socket.
IPC: No leftover socket found.
IPC: Listening at  /run/user/1000/bdsd.sock
BAOS: connected to baos
BAOS: success on setting indications to: 0
BAOS: success on get datapoint description: \PYGZob{} id: 1 , dpt:  dpt9 \PYGZcb{}
BAOS: success on get datapoint description: \PYGZob{} id: 2 , dpt:  dpt5 \PYGZcb{}
......
......
BAOS: success on get datapoint description: \PYGZob{} id: 999 , dpt:  dpt16 \PYGZcb{}
BAOS: success on get datapoint description: \PYGZob{} id: 1000 , dpt:  dpt16 \PYGZcb{}
BAOS: success on setting indications to: 1
BAOS: got bus state: connected
\end{sphinxVerbatim}

Since version 2.0.0 bdsd.sock accepts command line arguments to ease running on different platforms.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZdl{} bdsd.sock \PYGZhy{}\PYGZhy{}help
Options:
  \PYGZhy{}\PYGZhy{}help                   Show help                                   [boolean]
  \PYGZhy{}\PYGZhy{}version                Show version number                         [boolean]
  \PYGZhy{}\PYGZhy{}sockfile, \PYGZhy{}s           path to socket file. Default:
                           /run/user/1000/bdsd.sock\PYGZsq{}
  \PYGZhy{}\PYGZhy{}serialport\PYGZhy{}device, \PYGZhy{}d  path to serialport device. Default: /dev/ttyAMA0
  \PYGZhy{}\PYGZhy{}serialport\PYGZhy{}params, \PYGZhy{}p  serialport parameters: \PYGZdq{}baud rate,parity,data
                           bits,stop bits\PYGZdq{}. Default: \PYGZdq{}19200,even,8,1\PYGZdq{}
\end{sphinxVerbatim}

\sphinxstylestrong{2. Create systemd service folders, create service file}

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZdl{} cd \PYGZti{}/
\PYGZdl{} mkdir \PYGZti{}/.config/systemd
\PYGZdl{} mkdir \PYGZti{}/.config/systemd/user
\PYGZdl{} touch \PYGZti{}/.config/systemd/user/bdsd.service
\end{sphinxVerbatim}

Then add following to this file using your favourite text editor:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{[}\PYG{n}{Unit}\PYG{p}{]}
\PYG{n}{Description}\PYG{o}{=}\PYG{n}{Bobaos} \PYG{n}{Datapoint} \PYG{n}{Sdk} \PYG{n}{Daemon}

\PYG{p}{[}\PYG{n}{Service}\PYG{p}{]}
\PYG{n}{ExecStart}\PYG{o}{=}\PYG{o}{/}\PYG{n}{usr}\PYG{o}{/}\PYG{n+nb}{bin}\PYG{o}{/}\PYG{n}{env} \PYG{n}{bdsd}\PYG{o}{.}\PYG{n}{sock}
\PYG{n}{StandardOutput}\PYG{o}{=}\PYG{n}{null}

\PYG{p}{[}\PYG{n}{Install}\PYG{p}{]}
\PYG{n}{WantedBy}\PYG{o}{=}\PYG{n}{default}\PYG{o}{.}\PYG{n}{target}
\end{sphinxVerbatim}

\sphinxstylestrong{3. Enable service, enable automatic start-up}

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZdl{} systemctl \PYGZhy{}\PYGZhy{}user daemon\PYGZhy{}reload
\PYGZdl{} systemctl \PYGZhy{}\PYGZhy{}user enable bdsd.service
\PYGZdl{} sudo loginctl enable\PYGZhy{}linger pi
\end{sphinxVerbatim}

\sphinxstylestrong{4. Start the service}

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZdl{} systemctl \PYGZhy{}\PYGZhy{}user start bdsd.service
\end{sphinxVerbatim}

\sphinxstylestrong{5. Check with \sphinxhref{./bdsd-cli.html}{bdsd-cli}}

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZdl{} sudo npm \PYGZhy{}g install bdsd\PYGZhy{}cli
\PYGZdl{} bdsd\PYGZhy{}cli
connected
bobaos\PYGZgt{} setProgrammingMode \PYGZhy{}v 1
Set programming mode: success
bobaos\PYGZgt{} getValue \PYGZhy{}s 1
\PYGZob{} id: 1, value: true \PYGZcb{}
bobaos\PYGZgt{}
\end{sphinxVerbatim}


\section{Usage in js}
\label{\detokenize{bdsd.sock:usage-in-js}}\label{\detokenize{bdsd.sock:usage-in-js}}
For js applications there will be available client-side library which you may install from npm.

Further information you can find in repo: \sphinxhref{./bdsd.client.html}{bdsd.client}


\section{Usage with other programming languages}
\label{\detokenize{bdsd.sock:usage-with-other-programming-languages}}\label{\detokenize{bdsd.sock:usage-with-other-programming-languages}}
For other programming languages you may implement client-side library which should communicate with IPC following \sphinxhref{./bdsm.html}{Bobaos Datapoint Sdk Message Protocol}.


\section{Support me}
\label{\detokenize{bdsd.sock:support-me}}\label{\detokenize{bdsd.sock:support-me}}
You can send me a beer by PayPal

\sphinxhref{https://paypal.me/shabunin}{\sphinxincludegraphics{{/home/undefeated/build/docs/build/doctrees/images/8677b9030d43d26eb1eb62b6d0dac23d972e2efc/btn_donateCC_LG}.gif}}


\chapter{Commandline interface {[}bdsd-cli{]}}
\label{\detokenize{bdsd-cli:commandline-interface-bdsd-cli}}\label{\detokenize{bdsd-cli:commandline-interface-bdsd-cli}}\label{\detokenize{bdsd-cli::doc}}
Commad-line interface for Bobaos Datapoint Sdk.


\section{Installation}
\label{\detokenize{bdsd-cli:installation}}\label{\detokenize{bdsd-cli:installation}}
First, you need to install and run as a service \sphinxhref{./bdsd.sock.html}{bdsd.sock}

If it is already done, proceed to next steps:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZdl{} sudo npm install \PYGZhy{}g bdsd\PYGZhy{}cli
\end{sphinxVerbatim}


\section{Usage}
\label{\detokenize{bdsd-cli:usage}}\label{\detokenize{bdsd-cli:usage}}\begin{enumerate}
\item {} 
Start the application

\end{enumerate}

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZdl{} bdsd\PYGZhy{}cli
connected
bobaos\PYGZgt{}
\end{sphinxVerbatim}

\sphinxcode{\sphinxupquote{bdsd-cli}} accepts \sphinxcode{\sphinxupquote{-s, -{-}sockfile}} parameter with path to bdsd.sock. Default is \sphinxcode{\sphinxupquote{\$XDG\_RUNTIME\_DIR/bdsd.sock}}.
\begin{enumerate}
\item {} 
Get command list

\end{enumerate}

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
bobaos\PYGZgt{} \PYG{n+nb}{help}
  Commands:

      \PYG{n+nb}{help} \PYG{o}{[}command...\PYG{o}{]}              Provides \PYG{n+nb}{help} \PYG{k}{for} a given command.
      \PYG{n+nb}{exit}                           Exits application.
      getDatapoints                  Get all datapoint descriptions
      getDescription \PYG{o}{[}options\PYG{o}{]}       Get datapoint description
      getValue \PYG{o}{[}options\PYG{o}{]}             Get datapoint value
      readValue \PYG{o}{[}options\PYG{o}{]}            Send \PYG{n+nb}{read} request to bus
      setValue \PYG{o}{[}options\PYG{o}{]}             Set datapoint value
      setProgrammingMode \PYG{o}{[}options\PYG{o}{]}   Set programming mode
      getStoredValue \PYG{o}{[}options\PYG{o}{]}       Get stored datapoint value from bdsd.sock
      readValues \PYG{o}{[}options\PYG{o}{]}           Send \PYG{n+nb}{read} request to bus \PYG{k}{for} multiple values
      setValues \PYG{o}{[}options\PYG{o}{]}            Send \PYG{n+nb}{read} request to bus \PYG{k}{for} multiple numerical/bool values
      watch \PYG{o}{[}options\PYG{o}{]}                Highlight datapoint in log
      unwatch \PYG{o}{[}options\PYG{o}{]}              Remove datapoint value hightlight
\end{sphinxVerbatim}
\begin{enumerate}
\item {} 
Try commands:

\end{enumerate}

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
bobaos\PYGZgt{} setProgrammingMode \PYGZhy{}v \PYG{l+m}{1}
Set programming mode: success
bobaos\PYGZgt{} setProgrammingMode \PYGZhy{}v \PYG{l+m}{0}
Set programming mode: \PYG{l+m}{1}
bobaos\PYGZgt{} getDatapoints
\PYG{o}{[} \PYG{o}{\PYGZob{}} id: \PYG{l+m}{1},
    length: \PYG{l+m}{2},
    flags:
    \PYG{o}{\PYGZob{}} priority: \PYG{l+s+s1}{\PYGZsq{}low\PYGZsq{}},
      communication: true,
      read: true,
      write: true,
      readOnInit: false,
      transmit: true,
      update: \PYG{n+nb}{false} \PYG{o}{\PYGZcb{}},
      dpt: \PYG{l+s+s1}{\PYGZsq{}dpt9\PYGZsq{}} \PYG{o}{\PYGZcb{}},
  \PYG{o}{\PYGZob{}} id: \PYG{l+m}{2},
    length: \PYG{l+m}{1},
    flags:
    \PYG{o}{\PYGZob{}} priority: \PYG{l+s+s1}{\PYGZsq{}low\PYGZsq{}},
      communication: true,
      read: false,
      write: true,
      readOnInit: false,
      transmit: true,
      update: \PYG{n+nb}{false} \PYG{o}{\PYGZcb{}},
      dpt: \PYG{l+s+s1}{\PYGZsq{}dpt5\PYGZsq{}} \PYG{o}{\PYGZcb{}} \PYG{o}{]}
bobaos\PYGZgt{} getValue \PYGZhy{}s \PYG{l+m}{1}
\PYG{l+m}{14}:01:35:504,    id: \PYG{l+m}{1}, value: \PYG{l+m}{22}, raw: \PYG{o}{[}\PYG{l+m}{12},76\PYG{o}{]}
bobaos\PYGZgt{} setValue \PYGZhy{}s \PYG{l+m}{2} \PYGZhy{}v \PYG{l+m}{0}
bobaos\PYGZgt{} readValue \PYGZhy{}s \PYG{l+m}{1}
bobaos\PYGZgt{} readValue \PYGZhy{}s \PYG{l+m}{2}
\PYG{l+m}{14}:01:56:106,    id: \PYG{l+m}{2}, value: \PYG{l+m}{0}, raw: \PYG{o}{[}\PYG{l+m}{0}\PYG{o}{]}
bobaos\PYGZgt{} getDescription \PYGZhy{}s \PYG{l+m}{1}
\PYG{o}{\PYGZob{}} id: \PYG{l+m}{1},
  value:
  \PYG{o}{\PYGZob{}} id: \PYG{l+m}{1},
    dpt: \PYG{l+s+s1}{\PYGZsq{}dpt9\PYGZsq{}},
    flags:
    \PYG{o}{\PYGZob{}} priority: \PYG{l+s+s1}{\PYGZsq{}low\PYGZsq{}},
      communication: true,
      read: true,
      write: true,
      readOnInit: false,
      transmit: true,
      update: \PYG{n+nb}{false} \PYG{o}{\PYGZcb{}},
      length: \PYG{l+m}{2} \PYG{o}{\PYGZcb{}} \PYG{o}{\PYGZcb{}}
bobaos\PYGZgt{} getStoredValue \PYGZhy{}s \PYG{l+m}{1}
\PYG{l+m}{14}:02:25:748,    id: \PYG{l+m}{1}, value: \PYG{l+m}{21}.9, raw: \PYG{o}{[}\PYG{l+m}{12},71\PYG{o}{]}
bobaos\PYGZgt{} readValues \PYGZhy{}s \PYG{l+s+s2}{\PYGZdq{}1, 2, 3\PYGZdq{}}
\PYG{l+m}{14}:02:44:399,    id: \PYG{l+m}{1}, value: \PYG{l+m}{21}.9, raw: \PYG{o}{[}\PYG{l+m}{12},71\PYG{o}{]}
\PYG{l+m}{14}:02:44:483,    id: \PYG{l+m}{2}, value: \PYG{l+m}{0}, raw: \PYG{o}{[}\PYG{l+m}{0}\PYG{o}{]}
\PYG{l+m}{14}:02:44:607,    id: \PYG{l+m}{3}, value: \PYG{l+m}{0}, raw: \PYG{o}{[}\PYG{l+m}{0}\PYG{o}{]}
bobaos\PYGZgt{} setValues \PYGZhy{}s \PYG{l+s+s2}{\PYGZdq{}3:0, 4:0, 5:1\PYGZdq{}}
bobaos\PYGZgt{}
\end{sphinxVerbatim}

Added in 2.0.10:
\begin{itemize}
\item {} 
Datapoint value hightlight:

\end{itemize}

\sphinxincludegraphics{{colors}.png}
\begin{itemize}
\item {} 
DBAD license

\end{itemize}


\section{Support me}
\label{\detokenize{bdsd-cli:support-me}}\label{\detokenize{bdsd-cli:support-me}}
You can send me a beer by PayPal

\sphinxhref{https://paypal.me/shabunin}{\sphinxincludegraphics{{/home/undefeated/build/docs/build/doctrees/images/8677b9030d43d26eb1eb62b6d0dac23d972e2efc/btn_donateCC_LG}.gif}}


\chapter{Nodejs apps {[}bdsd.client{]}}
\label{\detokenize{bdsd.client:nodejs-apps-bdsd-client}}\label{\detokenize{bdsd.client:nodejs-apps-bdsd-client}}\label{\detokenize{bdsd.client::doc}}
To work with KNX datapoints from nodejs application you may use this module


\section{Installation and usage}
\label{\detokenize{bdsd.client:installation-and-usage}}\label{\detokenize{bdsd.client:installation-and-usage}}
In terminal:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
npm install \PYGZhy{}\PYGZhy{}save bdsd.client
\end{sphinxVerbatim}

In js file:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kr}{const} \PYG{n+nx}{BdsdClient} \PYG{o}{=} \PYG{n+nx}{require}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}bdsd.client\PYGZsq{}}\PYG{p}{)}\PYG{p}{;}

\PYG{c+c1}{// BdsdClient function accepts socket filename as an argument.}
\PYG{c+c1}{// If no argument provided then it will try to connect to following file:}
\PYG{c+c1}{// process.env[\PYGZsq{}XDG\PYGZus{}RUNTIME\PYGZus{}DIR\PYGZsq{}] + \PYGZsq{}/bdsd.sock\PYGZsq{}. Usually it is /run/user/1000/bdsd.sock.}
\PYG{k+kd}{let} \PYG{n+nx}{myClient} \PYG{o}{=} \PYG{n+nx}{BdsdClient}\PYG{p}{(}\PYG{p}{)}\PYG{p}{;}

\PYG{c+c1}{// Register listener for broadcasted values}
\PYG{n+nx}{myClient}\PYG{p}{.}\PYG{n+nx}{on}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}value\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
  \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}broadcasted value\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{data}\PYG{p}{)}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}

\PYG{c+c1}{// Listener for connected event.}
\PYG{c+c1}{// Triggers when client connects and receive \PYGZsq{}bus connected\PYGZsq{} notification}
\PYG{n+nx}{myClient}\PYG{p}{.}\PYG{n+nx}{on}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}connect\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{\PYGZus{}} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
  \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}client connected\PYGZsq{}}\PYG{p}{)}\PYG{p}{;}

  \PYG{c+c1}{// get list of all datapoints}
  \PYG{n+nx}{myClient}
    \PYG{p}{.}\PYG{n+nx}{getDatapoints}\PYG{p}{(}\PYG{p}{)}
    \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}
    \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}\PYG{p}{;}

  \PYG{c+c1}{// get description for one dp}
  \PYG{n+nx}{myClient}
    \PYG{p}{.}\PYG{n+nx}{getDescription}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)}
    \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}
    \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}\PYG{p}{;}

  \PYG{c+c1}{// get datapoint value}
  \PYG{n+nx}{myClient}
    \PYG{p}{.}\PYG{n+nx}{getValue}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)}
    \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}
    \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}\PYG{p}{;}

  \PYG{c+c1}{// send read request to bus}
  \PYG{n+nx}{myClient}
    \PYG{p}{.}\PYG{n+nx}{readValue}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)}
    \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}
    \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}\PYG{p}{;}

  \PYG{c+c1}{// set datapoint value and send to bus}
  \PYG{n+nx}{myClient}
    \PYG{p}{.}\PYG{n+nx}{setValue}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{k+kc}{true}\PYG{p}{)}
    \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}
    \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}\PYG{p}{;}

  \PYG{c+c1}{// set programming mode to 1}
  \PYG{n+nx}{myClient}
    \PYG{p}{.}\PYG{n+nx}{setProgrammingMode}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)}
    \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}
    \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}\PYG{p}{;}

  \PYG{c+c1}{// get stored value from bdsd.sock(avoid communication via serialport)}
  \PYG{n+nx}{myClient}
    \PYG{p}{.}\PYG{n+nx}{getStoredValue}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)}
    \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}
    \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}\PYG{p}{;}

  \PYG{c+c1}{// read multiple values}
  \PYG{n+nx}{myClient}
    \PYG{p}{.}\PYG{n+nx}{readValues}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{]}\PYG{p}{)}
    \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}
    \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}\PYG{p}{;}

  \PYG{c+c1}{// set multiple values}
  \PYG{n+nx}{myClient}
    \PYG{p}{.}\PYG{n+nx}{setValues}\PYG{p}{(}\PYG{p}{[}\PYG{p}{\PYGZob{}}\PYG{n+nx}{id}\PYG{o}{:} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{n+nx}{value}\PYG{o}{:} \PYG{k+kc}{true}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{p}{\PYGZob{}}\PYG{n+nx}{id}\PYG{o}{:} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n+nx}{value}\PYG{o}{:} \PYG{l+m+mi}{1}\PYG{p}{\PYGZcb{}}\PYG{p}{]}\PYG{p}{)}
    \PYG{p}{.}\PYG{n+nx}{then}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}
    \PYG{p}{.}\PYG{k}{catch}\PYG{p}{(}\PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{)}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}

\PYG{c+c1}{// error handling}
\PYG{n+nx}{myClient}\PYG{p}{.}\PYG{n+nx}{on}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}error\PYGZsq{}}\PYG{p}{,} \PYG{n+nx}{err} \PYG{p}{=\PYGZgt{}} \PYG{p}{\PYGZob{}}
  \PYG{n+nx}{console}\PYG{p}{.}\PYG{n+nx}{log}\PYG{p}{(}\PYG{n+nx}{err}\PYG{p}{.}\PYG{n+nx}{message}\PYG{p}{)}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}\PYG{p}{)}\PYG{p}{;}
\end{sphinxVerbatim}


\section{API reference}
\label{\detokenize{bdsd.client:api-reference}}\label{\detokenize{bdsd.client:api-reference}}
All API is Promise-based. If request was successful then you will get payload as a parameter of callback function.

For \sphinxstylestrong{\sphinxcode{\sphinxupquote{getDatapoints}}} method you should receive array of all datapoints:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{[} \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,}
    \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{2}\PYG{p}{,}
    \PYG{n}{flags}\PYG{p}{:}
     \PYG{p}{\PYGZob{}} \PYG{n}{priority}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{low}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
       \PYG{n}{communication}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,}
       \PYG{n}{read}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,}
       \PYG{n}{write}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,}
       \PYG{n}{readOnInit}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,}
       \PYG{n}{transmit}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,}
       \PYG{n}{update}\PYG{p}{:} \PYG{n}{false} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
    \PYG{n}{dpt}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{dpt9}\PYG{l+s+s1}{\PYGZsq{}} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
  \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{2}\PYG{p}{,}
    \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,}
    \PYG{n}{flags}\PYG{p}{:}
     \PYG{p}{\PYGZob{}} \PYG{n}{priority}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{low}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
       \PYG{n}{communication}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,}
       \PYG{n}{read}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,}
       \PYG{n}{write}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,}
       \PYG{n}{readOnInit}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,}
       \PYG{n}{transmit}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,}
       \PYG{n}{update}\PYG{p}{:} \PYG{n}{false} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
    \PYG{n}{dpt}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{dpt5}\PYG{l+s+s1}{\PYGZsq{}} \PYG{p}{\PYGZcb{}} \PYG{p}{]}
\end{sphinxVerbatim}

For \sphinxstylestrong{\sphinxcode{\sphinxupquote{getDescription}}} you will receive description of specified datapoint

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,}
  \PYG{n}{value}\PYG{p}{:}
   \PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{,}
     \PYG{n}{dpt}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{dpt9}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
     \PYG{n}{flags}\PYG{p}{:}
      \PYG{p}{\PYGZob{}} \PYG{n}{priority}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{low}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{n}{communication}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,}
        \PYG{n}{read}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,}
        \PYG{n}{write}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,}
        \PYG{n}{readOnInit}\PYG{p}{:} \PYG{n}{false}\PYG{p}{,}
        \PYG{n}{transmit}\PYG{p}{:} \PYG{n}{true}\PYG{p}{,}
        \PYG{n}{update}\PYG{p}{:} \PYG{n}{false} \PYG{p}{\PYGZcb{}}\PYG{p}{,}
     \PYG{n}{length}\PYG{p}{:} \PYG{l+m+mi}{2} \PYG{p}{\PYGZcb{}} \PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}

For \sphinxstylestrong{\sphinxcode{\sphinxupquote{getValue/getStoredValue}}} you will receive object with fields id and value

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{999}\PYG{p}{,}
  \PYG{n}{value}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Hello, friend}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
  \PYG{n}{raw}\PYG{p}{:}
   \PYG{p}{\PYGZob{}} \PYG{n+nb}{type}\PYG{p}{:} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Buffer}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
     \PYG{n}{data}\PYG{p}{:} \PYG{p}{[} \PYG{l+m+mi}{72}\PYG{p}{,} \PYG{l+m+mi}{101}\PYG{p}{,} \PYG{l+m+mi}{108}\PYG{p}{,} \PYG{l+m+mi}{108}\PYG{p}{,} \PYG{l+m+mi}{111}\PYG{p}{,} \PYG{l+m+mi}{44}\PYG{p}{,} \PYG{l+m+mi}{32}\PYG{p}{,} \PYG{l+m+mi}{102}\PYG{p}{,} \PYG{l+m+mi}{114}\PYG{p}{,} \PYG{l+m+mi}{105}\PYG{p}{,} \PYG{l+m+mi}{101}\PYG{p}{,} \PYG{l+m+mi}{110}\PYG{p}{,} \PYG{l+m+mi}{100}\PYG{p}{,} \PYG{l+m+mi}{0} \PYG{p}{]} \PYG{p}{\PYGZcb{}} \PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}

For \sphinxstylestrong{\sphinxcode{\sphinxupquote{setValue/readValue}}} you will receive object with field id

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}} \PYG{n+nb}{id}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}

\sphinxstylestrong{\sphinxcode{\sphinxupquote{setProgramming mode}}} callback your function without data

\sphinxstylestrong{\sphinxcode{\sphinxupquote{readValues}}} accepts array of datapoints. It will send only one request to BAOS module and BAOS will send multiple read requests to KNX bus.

\sphinxstylestrong{\sphinxcode{\sphinxupquote{setValues}}} accepts array of objects: \sphinxcode{\sphinxupquote{{[}\{id: 1, value: true\}, \{id: 2, value: 23.5\}{]}}}


\section{Support me}
\label{\detokenize{bdsd.client:support-me}}\label{\detokenize{bdsd.client:support-me}}
You can send me a beer by PayPal

\sphinxhref{https://paypal.me/shabunin}{\sphinxincludegraphics{{/home/undefeated/build/docs/build/doctrees/images/8677b9030d43d26eb1eb62b6d0dac23d972e2efc/btn_donateCC_LG}.gif}}


\chapter{IPC {[}bdsm{]}}
\label{\detokenize{bdsm:ipc-bdsm}}\label{\detokenize{bdsm:ipc-bdsm}}\label{\detokenize{bdsm::doc}}
If you are using
\begin{enumerate}
\item {} 
Frame format.
All communication should be enveloped in following frame format:

\end{enumerate}

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{o}{\textbar{}}\PYG{n}{B}\PYG{o}{\textbar{}}\PYG{n}{D}\PYG{o}{\textbar{}}\PYG{n}{S}\PYG{o}{\textbar{}}\PYG{n}{M}\PYG{o}{\textbar{}}\PYG{o}{\PYGZlt{}}\PYG{n}{LB}\PYG{o}{\PYGZgt{}}\PYG{o}{\textbar{}}\PYG{o}{\PYGZlt{}}\PYG{n}{LE}\PYG{o}{\PYGZgt{}}\PYG{o}{\textbar{}}\PYG{o}{\PYGZlt{}}\PYG{n}{DATA}\PYG{o}{\PYGZgt{}}\PYG{o}{\textbar{}}\PYG{o}{\PYGZlt{}}\PYG{n}{C}\PYG{o}{\PYGZgt{}}\PYG{o}{\textbar{}}
\end{sphinxVerbatim}

Where \textless{}L\textgreater{} is two byte field in BE that contains length of \textless{}DATA\textgreater{}, \textless{}C\textgreater{} is checksum of \textless{}DATA\textgreater{} (sum of all bytes modulo 256). BDSM(Bobaos Datapoint Sdk Message) is a string header of message.


\section{\textless{}DATA\textgreater{} field description}
\label{\detokenize{bdsm:data-field-description}}\label{\detokenize{bdsm:data-field-description}}
Field \textless{}DATA\textgreater{} is stringified JSON object which shoud match next format in case of Client =\textgreater{} Host communication:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}
  \PYG{n}{request\PYGZus{}id}\PYG{p}{:} \PYG{n}{Number}\PYG{p}{,}
  \PYG{n}{method}\PYG{p}{:} \PYG{n}{String}\PYG{p}{,}
  \PYG{n}{payload}\PYG{p}{:} \PYG{n}{Object} \PYG{o}{/}\PYG{o}{/} \PYG{n}{optional}
\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\section{Fields explanation}
\label{\detokenize{bdsm:fields-explanation}}\label{\detokenize{bdsm:fields-explanation}}

\subsection{\sphinxstyleliteralintitle{\sphinxupquote{request\_id}}}
\label{\detokenize{bdsm:request-id}}\label{\detokenize{bdsm:request-id}}
field should be unique at the moment of sending and it is responsibility of client to process this value. Server sends responses with this value in response\_id field back to client.


\subsection{\sphinxstyleliteralintitle{\sphinxupquote{method}} field.}
\label{\detokenize{bdsm:method-field}}\label{\detokenize{bdsm:method-field}}

\subsubsection{\sphinxstyleliteralintitle{\sphinxupquote{get datapoints}}}
\label{\detokenize{bdsm:get-datapoints}}\label{\detokenize{bdsm:get-datapoints}}
Get all configured datapoint descriptions.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Request}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{request\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{18052831966}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{get datapoints}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}
\PYG{n}{Response}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{response\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{18052831966}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{get datapoints}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{[}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{1}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{length}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{1}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{flags}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{priority}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{low}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{communication}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{true}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{read}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{false}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{write}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{true}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{readOnInit}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{false}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{transmit}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{true}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{update}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{false}\PYG{p}{\PYGZcb{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{dpt}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{dpt1}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{,}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{2}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{length}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{1}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{...\PYGZcb{}]\PYGZcb{}}
\end{sphinxVerbatim}


\subsubsection{\sphinxstyleliteralintitle{\sphinxupquote{get description}}}
\label{\detokenize{bdsm:get-description}}\label{\detokenize{bdsm:get-description}}
Get description for datapoint with specified id.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Request}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{request\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{145663188249}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{get description}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{31}\PYG{p}{\PYGZcb{}}\PYG{p}{\PYGZcb{}}
\PYG{n}{Response}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{response\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{145663188249}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{get description}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{31}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{31}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{dpt}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{dpt5}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{flags}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{priority}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{low}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{communication}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{true}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{read}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{false}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{write}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{true}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{readOnInit}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{false}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{transmit}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{true}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{update}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{false}\PYG{p}{\PYGZcb{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{length}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{1}\PYG{p}{\PYGZcb{}}\PYG{p}{\PYGZcb{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{success}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{true}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\subsubsection{\sphinxstyleliteralintitle{\sphinxupquote{get value}}}
\label{\detokenize{bdsm:get-value}}\label{\detokenize{bdsm:get-value}}
Get datapoint value.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Request}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{request\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{65362052157}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{get value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{31}\PYG{p}{\PYGZcb{}}\PYG{p}{\PYGZcb{}}
\PYG{n}{Response}\PYG{p}{:} 
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{response\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{65362052157}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{get value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{31}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{74}\PYG{p}{\PYGZcb{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{success}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{true}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\subsubsection{\sphinxstyleliteralintitle{\sphinxupquote{read value}}}
\label{\detokenize{bdsm:read-value}}\label{\detokenize{bdsm:read-value}}
Send read request to KNX bus.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Request}\PYG{p}{:} 
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{request\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{611387384802}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{read value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{31}\PYG{p}{\PYGZcb{}}\PYG{p}{\PYGZcb{}}
\PYG{n}{Response}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{response\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{611387384802}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{read value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{31}\PYG{p}{\PYGZcb{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{success}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{true}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\subsubsection{\sphinxstyleliteralintitle{\sphinxupquote{set value}}}
\label{\detokenize{bdsm:set-value}}\label{\detokenize{bdsm:set-value}}
Set datapoint value and send to KNX bus.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Request}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{request\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{839768583900}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{set value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{31}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{5}\PYG{p}{\PYGZcb{}}\PYG{p}{\PYGZcb{}}
\PYG{n}{Response}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{response\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{839768583900}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{set value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{31}\PYG{p}{\PYGZcb{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{success}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{true}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\subsubsection{\sphinxstyleliteralintitle{\sphinxupquote{programming mode}}}
\label{\detokenize{bdsm:programming-mode}}\label{\detokenize{bdsm:programming-mode}}
Set programming mode. As if you press PROG button.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Request}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{request\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{1366287859749}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{programming mode}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{1}\PYG{p}{\PYGZcb{}}\PYG{p}{\PYGZcb{}}
\PYG{n}{Response}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{response\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{1366287859749}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{programming mode}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{success}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{true}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\subsubsection{\sphinxstyleliteralintitle{\sphinxupquote{get stored value}}}
\label{\detokenize{bdsm:get-stored-value}}\label{\detokenize{bdsm:get-stored-value}}
Get datapoint value, stored in bdsd.sock process. Use it if you want to avoid unnecessary serialport communication to retreive datapoint value.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Request}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{request\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{65362052157}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{get stored value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{31}\PYG{p}{\PYGZcb{}}\PYG{p}{\PYGZcb{}}
\PYG{n}{Response}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{response\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{65362052157}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{get stored value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{31}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{74}\PYG{p}{\PYGZcb{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{success}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{true}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\subsubsection{\sphinxstyleliteralintitle{\sphinxupquote{read multiple}}}
\label{\detokenize{bdsm:read-multiple}}\label{\detokenize{bdsm:read-multiple}}
Read multiple datapoints.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Request}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{request\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{175279505890}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{read multiple}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,}\PYG{l+m+mi}{105}\PYG{p}{,}\PYG{l+m+mi}{106}\PYG{p}{,}\PYG{l+m+mi}{107}\PYG{p}{,}\PYG{l+m+mi}{108}\PYG{p}{]}\PYG{p}{\PYGZcb{}}
\PYG{n}{Response}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{response\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{175279505890}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{read multiple}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,}\PYG{l+m+mi}{105}\PYG{p}{,}\PYG{l+m+mi}{106}\PYG{p}{,}\PYG{l+m+mi}{107}\PYG{p}{,}\PYG{l+m+mi}{108}\PYG{p}{]}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{success}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{true}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\subsubsection{\sphinxstyleliteralintitle{\sphinxupquote{set multiple}}}
\label{\detokenize{bdsm:set-multiple}}\label{\detokenize{bdsm:set-multiple}}
Set multiple datapoints

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Request}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{request\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{1526404778316}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{set multiple}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{[}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{2}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{false}\PYG{p}{\PYGZcb{}}\PYG{p}{,}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{999}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{hello, drug}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{]}\PYG{p}{\PYGZcb{}}
\PYG{n}{Response}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{response\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{1526404778316}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{set multiple}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{[}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{2}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{false}\PYG{p}{\PYGZcb{}}\PYG{p}{,}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{999}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{hello, drug}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{]}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{success}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{true}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\section{Broadcasting value.}
\label{\detokenize{bdsm:broadcasting-value}}\label{\detokenize{bdsm:broadcasting-value}}
When datapoint value changes on bus, socket broadcasts following data to all connected clients:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{cast value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{12}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mf}{22.92}\PYG{p}{\PYGZcb{}}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\section{Notify}
\label{\detokenize{bdsm:notify}}\label{\detokenize{bdsm:notify}}
When Client connects to socket, initial notification sends from Host to Client indicating connectino status:

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{notify}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{bus connected}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\section{Error handling}
\label{\detokenize{bdsm:error-handling}}\label{\detokenize{bdsm:error-handling}}
In case of error Host sends to Client data with “success” field set to false and error message in “error” field.

\fvset{hllines={, ,}}%
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{Request}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{request\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{289551154644}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{set value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{payload}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{31}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{257}\PYG{p}{\PYGZcb{}}\PYG{p}{\PYGZcb{}}
\PYG{n}{Response}\PYG{p}{:}
\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{response\PYGZus{}id}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+m+mi}{289551154644}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{method}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{set value}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{success}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{n}{false}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{error}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Value out of range (expected 0\PYGZhy{}255, got 257)}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}
\end{sphinxVerbatim}


\section{Support me}
\label{\detokenize{bdsm:support-me}}\label{\detokenize{bdsm:support-me}}
You can send me a beer by PayPal

\sphinxhref{https://paypal.me/shabunin}{\sphinxincludegraphics{{/home/undefeated/build/docs/build/doctrees/images/8677b9030d43d26eb1eb62b6d0dac23d972e2efc/btn_donateCC_LG}.gif}}


\chapter{Indices and tables}
\label{\detokenize{index:indices-and-tables}}\begin{itemize}
\item {} 
\DUrole{xref,std,std-ref}{genindex}

\item {} 
\DUrole{xref,std,std-ref}{modindex}

\item {} 
\DUrole{xref,std,std-ref}{search}

\end{itemize}



\renewcommand{\indexname}{Index}
\printindex
\end{document}